<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Admin - Warwick SU</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="static/assets/css/style.css">
  <style>
    .container{max-width:1100px;margin:0 auto;padding:20px}
    .grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;margin:14px 0}
    .card{border:1px solid #e5e7eb;border-radius:12px;background:#fff;padding:14px}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:10px;border-bottom:1px solid #eee;text-align:left}
    .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid #e5e7eb}
    .status--approved{background:#ecfdf5;border-color:#10b981;color:#065f46}
    .status--pending{background:#fef9c3;border-color:#f59e0b;color:#7c2d12}
    .status--rejected{background:#fee2e2;border-color:#ef4444;color:#7f1d1d}
    .actions{display:flex;gap:6px;flex-wrap:wrap}
    .btn{display:inline-block;padding:.4rem .7rem;border-radius:10px;border:1px solid #e5e7eb;background:#fff;text-decoration:none;color:#111;font-weight:600}
    .btn--primary{background:var(--primary,#C676FF);border-color:var(--primary,#C676FF)}
    .tools{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
    input,select{padding:.5rem .6rem;border:1px solid #e5e7eb;border-radius:10px}
  </style>
  <script src="static/assets/js/auth-mock.js" defer></script>
  <script src="static/assets/js/admin.js" defer></script>
</head>
<body>
  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="">Warwick</a>
      <nav class="nav-center">
        <a class="nav-link" href="">Home</a>
        <a class="nav-link" href="rooms">Room</a>
        <a class="nav-link" href="schedule">Schedule</a>
        <a class="nav-link" href="bookings">My Booking</a>
        <a class="nav-link" href="admin" data-role="admin" style="display:none;">Admin</a>
      </nav>
      <nav class="nav-right">
        <a href="login" class="nav-link" data-auth="guest">Login</a>
        <a href="register" class="nav-link" data-auth="guest">Sign Up</a>
        <span class="nav-link" id="navUser" data-auth="user" style="pointer-events:none;"></span>
        <a href="#" class="nav-link" id="logoutBtn" data-auth="user">Logout</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Admin Console</h1>
    <p id="guard" style="display:none;color:#b91c1c;font-weight:700;">Access denied: admin only.</p>

    <!-- 概览卡片 -->
    <section class="grid" id="stats" style="display:none;">
      <div class="card"><div class="muted">Total bookings</div><div id="statTotal" style="font-size:28px;font-weight:800">0</div></div>
      <div class="card"><div class="muted">Pending</div><div id="statPending" style="font-size:28px;font-weight:800">0</div></div>
      <div class="card"><div class="muted">Approved today</div><div id="statToday" style="font-size:28px;font-weight:800">0</div></div>
    </section>

    <!-- 过滤工具 -->
    <div class="card" id="toolsWrap" style="display:none;">
      <div class="tools">
        <input id="kw" type="search" placeholder="Search room / purpose / email">
        <select id="status">
          <option value="">All status</option>
          <option value="pending">Pending</option>
          <option value="approved">Approved</option>
          <option value="rejected">Rejected</option>
        </select>
        <input id="dateFrom" type="date">
        <input id="dateTo" type="date">
        <button class="btn">Reset</button>
      </div>
    </div>

    <!-- 预订管理表 -->
    <section class="card" id="tableWrap" style="display:none;">
      <table id="adminTable" aria-label="All bookings">
        <thead>
          <tr>
            <th>User</th><th>Room</th><th>Date</th><th>Time</th><th>Purpose</th><th>Status</th><th style="width:1%">Action</th>
          </tr>
        </thead>
        <tbody><!-- JS 注入 --></tbody>
      </table>
    </section>
  </main>
  <script src="static/assets/js/auth-mock.js" defer></script>
<script src="static/assets/js/admin.js" defer></script>

</body>
</html>